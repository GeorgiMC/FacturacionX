USE BDFACTURACION;

CREATE TABLE usuario(
cia char(3),
usuario varchar(20),
contrasena varchar(20),
tipo char(2),
primary key (cia,usuario)
);

CREATE TABLE compania(
cia char(3),
nombre varchar(50),
nombreComercial varchar(50),
tipoCedula char(2),
cedula varchar(12),
telefono varchar(10),
fax varchar(10),
direccion varchar(100),
correo varchar(30),
provincia char(2),
canton char(2),
distrito char(2),
barrio char(2),
usuario varchar(50),
contrasena varchar(50),
pin char(4),
certificado varchar(20)
primary key (cia)
);


CREATE TABLE cliente(
cia char(3),
codCliente varchar(10),
nombre varchar(50),
nombreComercial varchar(50),
tipoCedula char(2),
cedula varchar(12),
telefono varchar(10),
fax varchar(10),
direccion varchar(100),
correo varchar(30),
provincia char(2),
canton char(2),
distrito char(2),
barrio char(2),
pais char(3),
estado char(1)
primary key (cia,codCliente)
);

create table factura(
cia char(3),
tipo varchar(5),
documento varchar(10),
caja char(3),
fecha datetime,
codCliente varchar(10),
pago varchar(5),
agente char(3),
moneda char(3),
cambio money,
descripcion varchar(100),
referencia varchar(10),
estado char(1),
facturaDigital char(1),
servGravados money,
servExentos money,
mercGravadas money,
mercExentas money,
totalExenta money,
totalGravadas money,
totalVenta money,
totalDescuento money,
totalVentaNeta money,
totalImpuesto money,
totalComprobante money
primary key (cia,documento,caja)
);

create table detalleFactura(
cia char(3),
documento varchar(10),
secuencia int,
articulo varchar(20),
porcDescuento float,
porcImpuesto float,
unidadMedida float,
cantidad float,
costo float,
precio money,
montoImpuesto money,
montoDescuento money,
total money,
descripcion varchar(50),
primary key (cia,documento,secuencia)
);

create table bodega(
cia char(3),
codBodega char(3),
descripcion varchar(50),
primary key (cia,codBodega)
);

create table articulo(
cia char(3),
codArticulo varchar(10),
desArticulo varchar(50),
unidad char(3),
primary key (cia,codArticulo)
);

create table articuloBodega(
cia char(3),
codArticulo varchar(10),
codBodega char(3),
cantidad float,
primary key (cia,codArticulo,codBodega)
);

